<div class="flex items-center gap-4 mb-4">
  <div class="flex items-center gap-4">
    <h1 class="text-3xl font-bold text-white">My Projects</h1>
    <% archived_count = current_user.project_repo_mappings.archived.count %>
    <% if archived_count > 0 %>
      <div class="project-toggle-group">
        <%= link_to "Active", my_projects_path(show_archived: false),
          class: "project-toggle-btn #{params[:show_archived] != 'true' ? 'active' : 'inactive'}" %>
        <%= link_to "Archived", my_projects_path(show_archived: true),
          class: "project-toggle-btn #{params[:show_archived] == 'true' ? 'active' : 'inactive'}" %>
      </div>
    <% end %>
  </div>
</div>

<% if current_user.github_uid.blank? %>
  <div class="text-red-400 mb-4">
    Heads up! You can't link your projects to GitHub until you connect your GitHub account.
    <%= link_to "Sign in with GitHub", github_auth_path, class: "btn btn-primary text-white underline" %>
  </div>
<% end %>

<%= render "shared/interval_selector" %>

<%= turbo_frame_tag "project_durations", src: project_durations_static_pages_path(interval: params[:interval], from: params[:from], to: params[:to], show_archived: params[:show_archived]), target: "_top" do %>
  <%= render "static_pages/project_durations_skeleton", count: @project_count %>
<% end %>
